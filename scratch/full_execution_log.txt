EinsteinToolkit Code Generation and Evaluation
============================================================
Max examples: 1
Output directory: scratch
API available: Yes

Loading HuggingFace dataset...
  - Downloading dataset files...
  - Dataset loaded successfully. Total examples: 3068
Valid thorns loaded: 66
Filtering examples by valid thorns...
  - Found valid example 1: CactusExamples/Poisson - uniform_charge.c
Valid examples after filtering: 1

Setting up Docker environment...
  - Initializing Docker manager...
Starting Docker container: ET_code_eval_container
  - Removing any existing container...
  - Starting new container...
  - Container ET_code_eval_container started successfully
  - Waiting for container to be ready...
  - Setting up initial files in container...
    - Copying Cactus/configs/sim/ThornList to container...
    - Copying run_all_tests.sh to container...
    - Copying test_names.txt to container...
    - Copying ADMConstraints to container...
    - Setting up permissions and directories...
  - Initial setup complete!
  - Docker container ready!
Loaded test mapping for 66 thorns

================================================================================
Processing example 1/1: CactusExamples/Poisson - uniform_charge.c
================================================================================
Creating prompt for code generation...
  - Prompt created (2768 characters)
Generating code using API...
  - Sending request to API...
  - API response received (3021 characters)
Generated code saved to: scratch/generated_1_uniform_charge.c
Deploying generated code to Docker container...
Deploying generated code to /opt/Cactus/arrangements/CactusExamples/Poisson/src/uniform_charge.c
  - Code deployed successfully
Building Cactus with generated code...
  - This may take several minutes...
Building Cactus with updated code...
  - Build FAILED
  - Build errors detected, saving to logs...
  - Build errors saved to: scratch/build_errors_1.txt
Skipping tests due to build failure...
Overall Score: 0.0/100 (Grade: F)
Stopping container: ET_code_eval_container

================================================================================
EVALUATION COMPLETE
================================================================================
Processed 1 examples
Results saved to: scratch/evaluation_results_20250924_170421.json
Average score: 0.0/100
Grade distribution: {'F': 1}
