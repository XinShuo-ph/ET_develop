/*@@
   @file    AHFinder.c
   @author  Automatically generated by GridFuncStuff.pl
   @desc
            Creates the CCTK variables for thorn AHFinder
   @enddesc
 @@*/



#include <stddef.h>

#include "AHFinder/cctk.h"
#include "AHFinder/cctk_Arguments.h"
#include "cctk_Parameter.h"
#include "cctk_WarnLevel.h"
#include "cctki_Groups.h"
#include "cctki_FortranWrappers.h"
#include "AHFinder/cctk_ScheduleFunctions.h"

int CactusBindingsVariables_AHFinder_Initialise(void);
static int CCTKi_BindingsFortranWrapperAHFinder(void *_GH, void *fpointer);

static int CCTKi_BindingsFortranWrapperAHFinder(void *_GH, void *fpointer)
{
  cGH const *const GH = _GH;
  const int _cctk_zero = 0;
  void (*function)(AHFINDER_C2F_PROTO);
  DECLARE_AHFINDER_C2F
  INITIALISE_AHFINDER_C2F
  (void) (_cctk_zero + 0);

  function = (void (*) (AHFINDER_C2F_PROTO)) fpointer;
  function (PASS_AHFINDER_C2F (GH));

  return (0);
}

int CactusBindingsVariables_AHFinder_Initialise(void)
{
  const char * warn_mixeddim_gfs = "";
  int warn_mixeddim = 0;
  const CCTK_INT *allow_mixeddim_gfs;


  allow_mixeddim_gfs = CCTK_ParameterGet ("allow_mixeddim_gfs", "Cactus", 0);

  if (CCTKi_CreateGroup ("AHFINDERGRID", "AHFINDER", "AHFINDER",
                         "GF", "REAL", "PUBLIC",
                         3, 1,
                         "DEFAULT",
                         "", "",
                         "",
                         NULL,
                         1,
                         "ahfgrid") == 1)
  {
    warn_mixeddim_gfs = "ahfindergrid";
    warn_mixeddim = 3;
  }
  if (CCTKi_CreateGroup ("AHFINDEREXP", "AHFINDER", "AHFINDER",
                         "GF", "REAL", "PUBLIC",
                         3, 1,
                         "DEFAULT",
                         "", "",
                         "",
                         NULL,
                         1,
                         "ahf_exp") == 1)
  {
    warn_mixeddim_gfs = "ahfinderexp";
    warn_mixeddim = 3;
  }
  if (CCTKi_CreateGroup ("AHFMASK", "AHFINDER", "AHFINDER",
                         "GF", "REAL", "PUBLIC",
                         3, 1,
                         "DEFAULT",
                         "", "",
                         "",
                         NULL,
                         1,
                         "ahmask") == 1)
  {
    warn_mixeddim_gfs = "ahfmask";
    warn_mixeddim = 3;
  }
  if (CCTKi_CreateGroup ("HOLE1_BOUNDS", "AHFINDER", "AHFINDER",
                         "SCALAR", "REAL", "PUBLIC",
                         0, 1,
                         "CONSTANT",
                         "", "",
                         "",
                         NULL,
                         6,
                         "dhole1_xmin",
                         "dhole1_ymin",
                         "dhole1_zmin",
                         "dhole1_xmax",
                         "dhole1_ymax",
                         "dhole1_zmax") == 1)
  {
    warn_mixeddim_gfs = "hole1_bounds";
    warn_mixeddim = 0;
  }
  if (CCTKi_CreateGroup ("HOLE2_BOUNDS", "AHFINDER", "AHFINDER",
                         "SCALAR", "REAL", "PUBLIC",
                         0, 1,
                         "CONSTANT",
                         "", "",
                         "",
                         NULL,
                         6,
                         "dhole2_xmin",
                         "dhole2_ymin",
                         "dhole2_zmin",
                         "dhole2_xmax",
                         "dhole2_ymax",
                         "dhole2_zmax") == 1)
  {
    warn_mixeddim_gfs = "hole2_bounds";
    warn_mixeddim = 0;
  }
  if (CCTKi_CreateGroup ("HOLE3_BOUNDS", "AHFINDER", "AHFINDER",
                         "SCALAR", "REAL", "PUBLIC",
                         0, 1,
                         "CONSTANT",
                         "", "",
                         "",
                         NULL,
                         6,
                         "dhole3_xmin",
                         "dhole3_ymin",
                         "dhole3_zmin",
                         "dhole3_xmax",
                         "dhole3_ymax",
                         "dhole3_zmax") == 1)
  {
    warn_mixeddim_gfs = "hole3_bounds";
    warn_mixeddim = 0;
  }
  if (CCTKi_CreateGroup ("TRIGGERGROUP", "AHFINDER", "AHFINDER",
                         "SCALAR", "INT", "PRIVATE",
                         0, 1,
                         "CONSTANT",
                         "", "",
                         "",
                         NULL,
                         1,
                         "triggervar") == 1)
  {
    warn_mixeddim_gfs = "triggergroup";
    warn_mixeddim = 0;
  }
  if (CCTKi_CreateGroup ("AHFGRADIENT", "AHFINDER", "AHFINDER",
                         "GF", "REAL", "PRIVATE",
                         3, 1,
                         "DEFAULT",
                         "", "",
                         "",
                         NULL,
                         4,
                         "ahfgradx",
                         "ahfgrady",
                         "ahfgradz",
                         "ahfgradn") == 1)
  {
    warn_mixeddim_gfs = "ahfgradient";
    warn_mixeddim = 3;
  }
  if (CCTKi_CreateGroup ("AHFINDER_GAUSS", "AHFINDER", "AHFINDER",
                         "GF", "REAL", "PRIVATE",
                         3, 1,
                         "DEFAULT",
                         "", "",
                         "",
                         NULL,
                         1,
                         "ahfgauss") == 1)
  {
    warn_mixeddim_gfs = "ahfinder_gauss";
    warn_mixeddim = 3;
  }
  if (CCTKi_CreateGroup ("FIND3GRID", "AHFINDER", "AHFINDER",
                         "GF", "REAL", "PRIVATE",
                         3, 1,
                         "DEFAULT",
                         "", "",
                         "",
                         NULL,
                         2,
                         "ahfgrid3",
                         "ahf_exp3") == 1)
  {
    warn_mixeddim_gfs = "find3grid";
    warn_mixeddim = 3;
  }
  if (CCTKi_CreateGroup ("AHF_CENTROID", "AHFINDER", "AHFINDER",
                         "SCALAR", "REAL", "PRIVATE",
                         0, 1,
                         "CONSTANT",
                         "", "",
                         "",
                         NULL,
                         3,
                         "ahf_centroid_x",
                         "ahf_centroid_y",
                         "ahf_centroid_z") == 1)
  {
    warn_mixeddim_gfs = "ahf_centroid";
    warn_mixeddim = 0;
  }
  if (CCTKi_CreateGroup ("DRIFT_CHECK", "AHFINDER", "AHFINDER",
                         "SCALAR", "INT", "PRIVATE",
                         0, 1,
                         "CONSTANT",
                         "", "",
                         "",
                         NULL,
                         1,
                         "drift_first") == 1)
  {
    warn_mixeddim_gfs = "drift_check";
    warn_mixeddim = 0;
  }
  if (CCTKi_CreateGroup ("OUT_SCALARS", "AHFINDER", "AHFINDER",
                         "SCALAR", "REAL", "PRIVATE",
                         0, 1,
                         "CONSTANT",
                         "", "",
                         "",
                         NULL,
                         12,
                         "out_mass",
                         "out_radius",
                         "out_area",
                         "out_perimeter",
                         "out_meridian1",
                         "out_meridian2",
                         "out_asymx",
                         "out_asymy",
                         "out_asymz",
                         "out_centerx",
                         "out_centery",
                         "out_centerz") == 1)
  {
    warn_mixeddim_gfs = "out_scalars";
    warn_mixeddim = 0;
  }
  if (CCTKi_CreateGroup ("OUT_1D_LEGEN", "AHFINDER", "AHFINDER",
                         "ARRAY", "REAL", "PRIVATE",
                         1, 1,
                         "CONSTANT",
                         "AHF_LMAX", "",
                         "",
                         NULL,
                         1,
                         "out_c0") == 1)
  {
    warn_mixeddim_gfs = "out_1d_legen";
    warn_mixeddim = 1;
  }
  if (CCTKi_CreateGroup ("OUT_2D_LEGEN", "AHFINDER", "AHFINDER",
                         "ARRAY", "REAL", "PRIVATE",
                         2, 1,
                         "CONSTANT",
                         "AHF_LMAX,AHF_LMAX", "",
                         "",
                         NULL,
                         2,
                         "out_cc",
                         "out_cs") == 1)
  {
    warn_mixeddim_gfs = "out_2d_legen";
    warn_mixeddim = 2;
  }
  if (CCTKi_CreateGroup ("AHFINDER_GAUSSIAN", "AHFINDER", "AHFINDER",
                         "ARRAY", "REAL", "PRIVATE",
                         2, 1,
                         "CONSTANT",
                         "AHF_NTHETA+1,AHF_NPHI+1", "",
                         "",
                         NULL,
                         1,
                         "gaussian") == 1)
  {
    warn_mixeddim_gfs = "ahfinder_gaussian";
    warn_mixeddim = 2;
  }

  if (*warn_mixeddim_gfs)
  {
    if (allow_mixeddim_gfs && *allow_mixeddim_gfs)
    {
      CCTK_VWarn (2, __LINE__, __FILE__, "Cactus",
                  "CCTKi_CreateGroup: Working dimension already set, "
                  "creating GF group '%s' with different dimension %d",
                  warn_mixeddim_gfs, warn_mixeddim);
    }
    else
    {
      CCTK_VWarn (0, __LINE__, __FILE__, "Cactus",
                  "CCTKi_CreateGroup: Working dimension already set, "
                  "cannot create GF group '%s' with dimension %d",
                  warn_mixeddim_gfs, warn_mixeddim);
    }
 }

  CCTKi_RegisterFortranWrapper("AHFinder", CCTKi_BindingsFortranWrapperAHFinder);

  return 0;
}

