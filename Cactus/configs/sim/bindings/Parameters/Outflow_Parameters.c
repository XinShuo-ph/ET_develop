/*@@
   @file    Outflow_Parameters.c
   @author  Automatically generated by CreateParameterBindings.pl
   @desc
            Creates/extends parameters for this thorn
   @enddesc
 @@*/


#include <stdio.h>
#include <stdlib.h>
#include <stdarg.h>

#include "cctk_Config.h"
#include "cctk_Constants.h"
#include "ParameterBindings.h"
#include "CParameterStructNames.h"
#include "ParameterCRestrictedIO.h"
#include "ParameterCRestrictedSPHERICALSURFACE.h"

/* structure containing all private parameters of thorn Outflow */
struct
{
  CCTK_REAL rad_rescale[100];
  CCTK_REAL radius[100];
  CCTK_REAL threshold[20];
  const char * coord_system;
  const char * extra_variables;
  const char * interpolator_name;
  const char * interpolator_pars;
  const char * out_format;
  const char * surface_name[100];
  const char * threshold_on_var;
  CCTK_INT compute_every;
  CCTK_INT compute_every_det[100];
  CCTK_INT num_detectors;
  CCTK_INT num_thresholds;
  CCTK_INT output_2d_data;
  CCTK_INT output_relative_coordinates;
  CCTK_INT override_radius[100];
  CCTK_INT surface_index[100];
  CCTK_INT verbose;
} PRIVATE_OUTFLOW_STRUCT;


/* structure containing all restricted parameters of thorn Outflow */
struct
{
  int dummy_parameter;
} RESTRICTED_OUTFLOW_STRUCT;


int CCTKi_BindingsCreateOutflowParameters(void);
int CCTKi_BindingsCreateOutflowParameters(void)
{
  CCTKi_ParameterCreate("compute_every",
                        "Outflow",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "How frequently to compute the outflow",
                        "1",
                        &(PRIVATE_OUTFLOW_STRUCT.compute_every),
                        0,
                        NULL,
                        1,
                        "1:*", "number of iterations");

  CCTKi_ParameterCreate("compute_every_det",
                        "Outflow",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "How frequently to compute the outflow",
                        "-1",
                        (PRIVATE_OUTFLOW_STRUCT.compute_every_det),
                        100,
                        NULL,
                        3,
                        "-1", "take from compute_every",
                        "0", "do not compute",
                        "1:*", "number of iterations");

  CCTKi_ParameterCreate("coord_system",
                        "Outflow",
                        "STRING",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "What is the coord system?",
                        "cart3d",
                        &(PRIVATE_OUTFLOW_STRUCT.coord_system),
                        0,
                        NULL,
                        1,
                        ".*", "Any smart string will do");

  CCTKi_ParameterCreate("extra_variables",
                        "Outflow",
                        "STRING",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "extra (scalar) variables to project onto the spherical surface",
                        "",
                        &(PRIVATE_OUTFLOW_STRUCT.extra_variables),
                        0,
                        NULL,
                        1,
                        ".*", "Any Cactus variables");

  CCTKi_ParameterCreate("interpolator_name",
                        "Outflow",
                        "STRING",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Which interpolator should I use",
                        "Hermite polynomial interpolation",
                        &(PRIVATE_OUTFLOW_STRUCT.interpolator_name),
                        0,
                        NULL,
                        1,
                        ".+", "Any nonempty string");

  CCTKi_ParameterCreate("interpolator_pars",
                        "Outflow",
                        "STRING",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Parameters for the interpolator",
                        "order=3",
                        &(PRIVATE_OUTFLOW_STRUCT.interpolator_pars),
                        0,
                        NULL,
                        1,
                        ".*", "Any string that Util_TableSetFromString() will take");

  CCTKi_ParameterCreate("num_detectors",
                        "Outflow",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_RECOVER,
                        "how many detectors do we have",
                        "0",
                        &(PRIVATE_OUTFLOW_STRUCT.num_detectors),
                        0,
                        NULL,
                        1,
                        "0:*", "number of detectors");

  CCTKi_ParameterCreate("num_thresholds",
                        "Outflow",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "how many thresholds to use",
                        "0",
                        &(PRIVATE_OUTFLOW_STRUCT.num_thresholds),
                        0,
                        NULL,
                        2,
                        "0", "ignore thresholds, output only one flux",
                        "1:20", "how many to use");

  CCTKi_ParameterCreate("out_format",
                        "Outflow",
                        "STRING",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Which format for Scalar floating-point number output",
                        ".19g",
                        &(PRIVATE_OUTFLOW_STRUCT.out_format),
                        0,
                        NULL,
                        1,
                        "^(\\.[1]?[0-9])?[EGefg]$", "output with given precision in exponential / floating point notation");

  CCTKi_ParameterCreate("output_2d_data",
                        "Outflow",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "output 2d data on spherical surface",
                        "no",
                        &(PRIVATE_OUTFLOW_STRUCT.output_2d_data),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("output_relative_coordinates",
                        "Outflow",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "output coordinates on spheroid relative to sf_centroid, absolute coordinates otherwise",
                        "no",
                        &(PRIVATE_OUTFLOW_STRUCT.output_relative_coordinates),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("override_radius",
                        "Outflow",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "do not take radius values from spherical surface",
                        "no",
                        (PRIVATE_OUTFLOW_STRUCT.override_radius),
                        100,
                        NULL,
                        0);

  CCTKi_ParameterCreate("rad_rescale",
                        "Outflow",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Factor for scaling radius for this detector surface (e.g. for buffer around AH surface)",
                        "1",
                        (PRIVATE_OUTFLOW_STRUCT.rad_rescale),
                        100,
                        NULL,
                        1,
                        "(0:*", "Anything positive");

  CCTKi_ParameterCreate("radius",
                        "Outflow",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "spherical radius for this detector surface",
                        "-1",
                        (PRIVATE_OUTFLOW_STRUCT.radius),
                        100,
                        NULL,
                        2,
                        "-1", "Invalid",
                        "(0:*", "any positive value");

  CCTKi_ParameterCreate("surface_index",
                        "Outflow",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "the indices of the sphericalsurfaces from which we take the surfaces to compute the outflow on",
                        "-1",
                        (PRIVATE_OUTFLOW_STRUCT.surface_index),
                        100,
                        NULL,
                        2,
                        "-1", "Invalid",
                        "0:*", "valid surface" );

  CCTKi_ParameterCreate("surface_name",
                        "Outflow",
                        "STRING",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "the indices of the sphericalsurfaces from which we take the surfaces to compute the outflow on",
                        "",
                        (PRIVATE_OUTFLOW_STRUCT.surface_name),
                        100,
                        NULL,
                        2,
                        "", "use surface_index",
                        ".*", "any string");

  CCTKi_ParameterCreate("threshold",
                        "Outflow",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "compute fluxes with Lorentz factors / specific energy at infinity above these levels only",
                        "0",
                        (PRIVATE_OUTFLOW_STRUCT.threshold),
                        20,
                        NULL,
                        1,
                        "*:*", "Any real number");

  CCTKi_ParameterCreate("threshold_on_var",
                        "Outflow",
                        "KEYWORD",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Which variable to use as threshold",
                        "w_lorentz",
                        &(PRIVATE_OUTFLOW_STRUCT.threshold_on_var),
                        0,
                        NULL,
                        2,
                        "eninf", "(Approximate) specific energy at infinity, - u_t - 1",
                        "w_lorentz", "Lorentz factor");

  CCTKi_ParameterCreate("verbose",
                        "Outflow",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "How verbose do you want it?",
                        "1",
                        &(PRIVATE_OUTFLOW_STRUCT.verbose),
                        0,
                        NULL,
                        1,
                        "0:*", "0 is nothing, 1 is interesting, >1 is crazy");

  return 0;
}

int CCTKi_BindingsOutflowParameterExtensions(void);
int CCTKi_BindingsOutflowParameterExtensions(void)
{
  return 0;
}

