/*@@
   @file    HTTPD_Parameters.c
   @author  Automatically generated by CreateParameterBindings.pl
   @desc
            Creates/extends parameters for this thorn
   @enddesc
 @@*/


#include <stdio.h>
#include <stdlib.h>
#include <stdarg.h>

#include "cctk_Config.h"
#include "cctk_Constants.h"
#include "ParameterBindings.h"
#include "CParameterStructNames.h"
#include "ParameterCRestrictedCACTUS.h"

/* structure containing all private parameters of thorn HTTPD */
struct
{
  CCTK_REAL until_time;
  const char * encryption_scheme;
  const char * password;
  const char * until_expression;
  const char * user;
  CCTK_INT hunt;
  CCTK_INT pause;
  CCTK_INT port;
  CCTK_INT provide_pages;
  CCTK_INT queue_length;
  CCTK_INT refresh_seconds;
  CCTK_INT single_step;
  CCTK_INT steering_frequency;
  CCTK_INT terminate;
  CCTK_INT timeout_seconds;
  CCTK_INT timeout_useconds;
  CCTK_INT until_expression_active;
  CCTK_INT until_it;
  CCTK_INT until_it_active;
  CCTK_INT until_time_active;
  CCTK_INT use_pthreads;
  CCTK_INT verbose;
} PRIVATE_HTTPD_STRUCT;


/* structure containing all restricted parameters of thorn HTTPD */
struct
{
  int dummy_parameter;
} RESTRICTED_HTTPD_STRUCT;


int CCTKi_BindingsCreateHTTPDParameters(void);
int CCTKi_BindingsCreateHTTPDParameters(void)
{
  CCTKi_ParameterCreate("encryption_scheme",
                        "HTTPD",
                        "KEYWORD",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "How the password is encrypted",
                        "none",
                        &(PRIVATE_HTTPD_STRUCT.encryption_scheme),
                        0,
                        NULL,
                        2,
                        "none", "Not encrypted",
                        "crypt", "crypt(3) (standard UNIX passwd format)");

  CCTKi_ParameterCreate("hunt",
                        "HTTPD",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Should the server hunt for a port if the specified one is taken ?",
                        "yes",
                        &(PRIVATE_HTTPD_STRUCT.hunt),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("password",
                        "HTTPD",
                        "STRING",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "The password for Cactus Control",
                        "anon",
                        &(PRIVATE_HTTPD_STRUCT.password),
                        0,
                        NULL,
                        1,
                        ".*", "Any password");

  CCTKi_ParameterCreate("pause",
                        "HTTPD",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Pause ?",
                        "no",
                        &(PRIVATE_HTTPD_STRUCT.pause),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("port",
                        "HTTPD",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "HTTP port number to use (can be overridden by shell variable HTTPD_PORT)",
                        "5555",
                        &(PRIVATE_HTTPD_STRUCT.port),
                        0,
                        NULL,
                        1,
                        "1:65535", "Any valid port");

  CCTKi_ParameterCreate("provide_pages",
                        "HTTPD",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Should the server provide any pages ?",
                        "yes",
                        &(PRIVATE_HTTPD_STRUCT.provide_pages),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("queue_length",
                        "HTTPD",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Listen queue length",
                        "4",
                        &(PRIVATE_HTTPD_STRUCT.queue_length),
                        0,
                        NULL,
                        1,
                        "1:", "Any positive number");

  CCTKi_ParameterCreate("refresh_seconds",
                        "HTTPD",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Page refresh time seconds",
                        "-1",
                        &(PRIVATE_HTTPD_STRUCT.refresh_seconds),
                        0,
                        NULL,
                        1,
                        "-1:", "-1 for no refresh, 0 for immediate refresh");

  CCTKi_ParameterCreate("single_step",
                        "HTTPD",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Do one step then pause ?",
                        "no",
                        &(PRIVATE_HTTPD_STRUCT.single_step),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("steering_frequency",
                        "HTTPD",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "How many iterations between steering events",
                        "1",
                        &(PRIVATE_HTTPD_STRUCT.steering_frequency),
                        0,
                        NULL,
                        1,
                        "0:", "Any number, 0 means don't steer");

  CCTKi_ParameterCreate("terminate",
                        "HTTPD",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Kill the simulation ?",
                        "no",
                        &(PRIVATE_HTTPD_STRUCT.terminate),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("timeout_seconds",
                        "HTTPD",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Polling timeout seconds",
                        "0",
                        &(PRIVATE_HTTPD_STRUCT.timeout_seconds),
                        0,
                        NULL,
                        1,
                        "0:", "Any whole number");

  CCTKi_ParameterCreate("timeout_useconds",
                        "HTTPD",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Polling timeout micro-seconds",
                        "0",
                        &(PRIVATE_HTTPD_STRUCT.timeout_useconds),
                        0,
                        NULL,
                        1,
                        "0:", "Any whole number");

  CCTKi_ParameterCreate("until_expression",
                        "HTTPD",
                        "STRING",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Pause if this expression evaluates to true.",
                        "iteration+40 < time*100",
                        &(PRIVATE_HTTPD_STRUCT.until_expression),
                        0,
                        NULL,
                        1,
                        ".*", "Any expression");

  CCTKi_ParameterCreate("until_expression_active",
                        "HTTPD",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Use until_expression parameter ?",
                        "no",
                        &(PRIVATE_HTTPD_STRUCT.until_expression_active),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("until_it",
                        "HTTPD",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Pause at this iteration",
                        "0",
                        &(PRIVATE_HTTPD_STRUCT.until_it),
                        0,
                        NULL,
                        1,
                        ":", "Any iteration");

  CCTKi_ParameterCreate("until_it_active",
                        "HTTPD",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Use until_it parameter ?",
                        "no",
                        &(PRIVATE_HTTPD_STRUCT.until_it_active),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("until_time",
                        "HTTPD",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Pause after this simulation time",
                        "0",
                        &(PRIVATE_HTTPD_STRUCT.until_time),
                        0,
                        NULL,
                        1,
                        ":", "Any time");

  CCTKi_ParameterCreate("until_time_active",
                        "HTTPD",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Use until_time parameter ?",
                        "no",
                        &(PRIVATE_HTTPD_STRUCT.until_time_active),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("use_pthreads",
                        "HTTPD",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Use a threaded implementation if possible ?",
                        "yes",
                        &(PRIVATE_HTTPD_STRUCT.use_pthreads),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("user",
                        "HTTPD",
                        "STRING",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "The username for Cactus Control ",
                        "anon",
                        &(PRIVATE_HTTPD_STRUCT.user),
                        0,
                        NULL,
                        1,
                        ".+", "Any name of one or more characters");

  CCTKi_ParameterCreate("verbose",
                        "HTTPD",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Print information about HTTP requests",
                        "no",
                        &(PRIVATE_HTTPD_STRUCT.verbose),
                        0,
                        NULL,
                        0);

  return 0;
}

int CCTKi_BindingsHTTPDParameterExtensions(void);
int CCTKi_BindingsHTTPDParameterExtensions(void)
{
  return 0;
}

