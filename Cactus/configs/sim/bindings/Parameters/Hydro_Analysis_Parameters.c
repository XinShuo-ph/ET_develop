/*@@
   @file    Hydro_Analysis_Parameters.c
   @author  Automatically generated by CreateParameterBindings.pl
   @desc
            Creates/extends parameters for this thorn
   @enddesc
 @@*/


#include <stdio.h>
#include <stdlib.h>
#include <stdarg.h>

#include "cctk_Config.h"
#include "cctk_Constants.h"
#include "ParameterBindings.h"
#include "CParameterStructNames.h"
#include "ParameterCRestrictedHYDROBASE.h"

/* structure containing all private parameters of thorn Hydro_Analysis */
struct
{
  CCTK_REAL Hydro_Analysis_core_rho_rel_min;
  CCTK_REAL Hydro_Analysis_r_core;
  const char * Hydro_Analysis_interpolator_coordinates;
  const char * Hydro_Analysis_interpolator_name;
  const char * Hydro_Analysis_interpolator_options;
  CCTK_INT Hydro_Analysis_average_multiple_maxima_locations;
  CCTK_INT Hydro_Analysis_comp_core_rho_centroid;
  CCTK_INT Hydro_Analysis_comp_rho_max;
  CCTK_INT Hydro_Analysis_comp_rho_max_every;
  CCTK_INT Hydro_Analysis_comp_rho_max_origin_distance;
  CCTK_INT Hydro_Analysis_comp_vol_weighted_center_of_mass;
  CCTK_INT Hydro_Analysis_rho_max_loc_only_positive_x;
  CCTK_INT Hydro_Analysis_rho_max_loc_use_rotatingsymmetry180;
  CCTK_INT Hydro_Analysis_rho_max_origin_distance_npoints;
  CCTK_INT verbosity_level;
} PRIVATE_HYDRO_ANALYSIS_STRUCT;


/* structure containing all restricted parameters of thorn Hydro_Analysis */
struct
{
  int dummy_parameter;
} RESTRICTED_HYDRO_ANALYSIS_STRUCT;


int CCTKi_BindingsCreateHydro_AnalysisParameters(void);
int CCTKi_BindingsCreateHydro_AnalysisParameters(void)
{
  CCTKi_ParameterCreate("Hydro_Analysis_average_multiple_maxima_locations",
                        "Hydro_Analysis",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "when finding more than one global maximum location, average position and use result",
                        "false",
                        &(PRIVATE_HYDRO_ANALYSIS_STRUCT.Hydro_Analysis_average_multiple_maxima_locations),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("Hydro_Analysis_comp_core_rho_centroid",
                        "Hydro_Analysis",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_RECOVER,
                        "compute location of the centroid of rho*x in region r_core around densest point",
                        "no",
                        &(PRIVATE_HYDRO_ANALYSIS_STRUCT.Hydro_Analysis_comp_core_rho_centroid),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("Hydro_Analysis_comp_rho_max",
                        "Hydro_Analysis",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_RECOVER,
                        "Look for the value and location of the maximum of rho",
                        "false",
                        &(PRIVATE_HYDRO_ANALYSIS_STRUCT.Hydro_Analysis_comp_rho_max),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("Hydro_Analysis_comp_rho_max_every",
                        "Hydro_Analysis",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_RECOVER,
                        "How often to look  for the value and location of the maximum of rho",
                        "1",
                        &(PRIVATE_HYDRO_ANALYSIS_STRUCT.Hydro_Analysis_comp_rho_max_every),
                        0,
                        NULL,
                        2,
                        "0:0", "Never",
                        "1:*", "every so often");

  CCTKi_ParameterCreate("Hydro_Analysis_comp_rho_max_origin_distance",
                        "Hydro_Analysis",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_RECOVER,
                        "Look for the proper distance between the maximum of the density and the origin (along a straight coordinate line)",
                        "false",
                        &(PRIVATE_HYDRO_ANALYSIS_STRUCT.Hydro_Analysis_comp_rho_max_origin_distance),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("Hydro_Analysis_comp_vol_weighted_center_of_mass",
                        "Hydro_Analysis",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_RECOVER,
                        "Look for the location of the volume-weighted center of mass",
                        "false",
                        &(PRIVATE_HYDRO_ANALYSIS_STRUCT.Hydro_Analysis_comp_vol_weighted_center_of_mass),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("Hydro_Analysis_core_rho_rel_min",
                        "Hydro_Analysis",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "only include points where rho>rho_rel_min*rho_max when computing centroid of rho*x around densest point",
                        "0.01",
                        &(PRIVATE_HYDRO_ANALYSIS_STRUCT.Hydro_Analysis_core_rho_rel_min),
                        0,
                        NULL,
                        1,
                        "0:*", "any positive value. For best results should be such that the region selected is smaller than r_core. 1/10 of rho_max should be fine.");

  CCTKi_ParameterCreate("Hydro_Analysis_interpolator_coordinates",
                        "Hydro_Analysis",
                        "STRING",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Coordinate system",
                        "cart3d",
                        &(PRIVATE_HYDRO_ANALYSIS_STRUCT.Hydro_Analysis_interpolator_coordinates),
                        0,
                        NULL,
                        1,
                        ".*", "must be a registered coordinate system");

  CCTKi_ParameterCreate("Hydro_Analysis_interpolator_name",
                        "Hydro_Analysis",
                        "STRING",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Name of the interpolator",
                        "uniform cartesian",
                        &(PRIVATE_HYDRO_ANALYSIS_STRUCT.Hydro_Analysis_interpolator_name),
                        0,
                        NULL,
                        5,
                        "Lagrange polynomial interpolation (tensor product)", "from AEILocalInterp",
                        "Lagrange polynomial interpolation (maximum degree)", "from AEILocalInterp",
                        "Hermite polynomial interpolation", "from AEILocalInterp",
                        "uniform cartesian", "from LocalInterp",
                        ".*", "must be a registered interpolator");

  CCTKi_ParameterCreate("Hydro_Analysis_interpolator_options",
                        "Hydro_Analysis",
                        "STRING",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Options for the interpolator",
                        "order=2",
                        &(PRIVATE_HYDRO_ANALYSIS_STRUCT.Hydro_Analysis_interpolator_options),
                        0,
                        NULL,
                        1,
                        ".*", "must be a valid option specification");

  CCTKi_ParameterCreate("Hydro_Analysis_r_core",
                        "Hydro_Analysis",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "size of region around densest point in which to compute the centroid of rho*x",
                        "4.0",
                        &(PRIVATE_HYDRO_ANALYSIS_STRUCT.Hydro_Analysis_r_core),
                        0,
                        NULL,
                        1,
                        "0:*", "any positive radius. suggested is 1/2 of stellar radius");

  CCTKi_ParameterCreate("Hydro_Analysis_rho_max_loc_only_positive_x",
                        "Hydro_Analysis",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Restrict location search for density maximum to positive values of x",
                        "false",
                        &(PRIVATE_HYDRO_ANALYSIS_STRUCT.Hydro_Analysis_rho_max_loc_only_positive_x),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("Hydro_Analysis_rho_max_loc_use_rotatingsymmetry180",
                        "Hydro_Analysis",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Map found maxima into positive x half-plane assuming pi-symmetry",
                        "false",
                        &(PRIVATE_HYDRO_ANALYSIS_STRUCT.Hydro_Analysis_rho_max_loc_use_rotatingsymmetry180),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("Hydro_Analysis_rho_max_origin_distance_npoints",
                        "Hydro_Analysis",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Number of points along the straight line for measuring proper distance",
                        "100",
                        &(PRIVATE_HYDRO_ANALYSIS_STRUCT.Hydro_Analysis_rho_max_origin_distance_npoints),
                        0,
                        NULL,
                        1,
                        "1:*", "Any positive number");

  CCTKi_ParameterCreate("verbosity_level",
                        "Hydro_Analysis",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "how much information to ouptut to the logs",
                        "1",
                        &(PRIVATE_HYDRO_ANALYSIS_STRUCT.verbosity_level),
                        0,
                        NULL,
                        3,
                        "0", "Output nothing",
                        "1", "warn when finding multiple maxima",
                        "2", "also output location of maxima" );

  return 0;
}

int CCTKi_BindingsHydro_AnalysisParameterExtensions(void);
int CCTKi_BindingsHydro_AnalysisParameterExtensions(void)
{
  return 0;
}

