/*@@
   @file    IDBrillData_Parameters.c
   @author  Automatically generated by CreateParameterBindings.pl
   @desc
            Creates/extends parameters for this thorn
   @enddesc
 @@*/


#include <stdio.h>
#include <stdlib.h>
#include <stdarg.h>

#include "cctk_Config.h"
#include "cctk_Constants.h"
#include "ParameterBindings.h"
#include "CParameterStructNames.h"
#include "ParameterCRestrictedADMBASE.h"
#include "ParameterCRestrictedSTATICCONFORMAL.h"

/* structure containing all private parameters of thorn IDBrillData */
struct
{
  CCTK_REAL brill3d_d;
  CCTK_REAL brill3d_e;
  CCTK_REAL brill3d_m;
  CCTK_REAL brill3d_n;
  CCTK_REAL brill3d_phi0;
  CCTK_REAL const_v0;
  CCTK_REAL eppley_a;
  CCTK_REAL eppley_r0;
  CCTK_REAL eppley_sigmar;
  CCTK_REAL eppley_sigmarho;
  CCTK_REAL exp_a;
  CCTK_REAL exp_rho0;
  CCTK_REAL exp_sigmaz;
  CCTK_REAL gundlach_a;
  CCTK_REAL gundlach_r0;
  CCTK_REAL gundlach_sigmar;
  CCTK_REAL gundlach_sigmarho;
  CCTK_REAL rhofudge;
  CCTK_REAL robin_inf;
  CCTK_REAL thresh;
  const char * bound;
  const char * q_function;
  const char * solver;
  CCTK_INT eppley_b;
  CCTK_INT eppley_c;
  CCTK_INT exp_b;
  CCTK_INT gundlach_b;
  CCTK_INT gundlach_c;
  CCTK_INT output_coeffs;
  CCTK_INT robin_falloff;
  CCTK_INT sor_maxit;
} PRIVATE_IDBRILLDATA_STRUCT;


/* structure containing all restricted parameters of thorn IDBrillData */
struct
{
  int dummy_parameter;
} RESTRICTED_IDBRILLDATA_STRUCT;


int CCTKi_BindingsCreateIDBrillDataParameters(void);
int CCTKi_BindingsCreateIDBrillDataParameters(void)
{
  CCTKi_ParameterCreate("bound",
                        "IDBrillData",
                        "KEYWORD",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Which boundary condition to use",
                        "robin",
                        &(PRIVATE_IDBRILLDATA_STRUCT.bound),
                        0,
                        NULL,
                        2,
                        "const", "constant boundary: set const_v0",
                        "robin", "Robin boundary: set robin_falloff, robin_inf");

  CCTKi_ParameterCreate("brill3d_d",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "3D Brill wave:  d rho^m cos^2(n (phi + phi0))",
                        "0.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.brill3d_d),
                        0,
                        NULL,
                        1,
                        ":", "Anything");

  CCTKi_ParameterCreate("brill3d_e",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "3D Brill wave:  d rho^m cos^2(n (phi + phi0))",
                        "1.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.brill3d_e),
                        0,
                        NULL,
                        1,
                        ":", "Anything");

  CCTKi_ParameterCreate("brill3d_m",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "3D Brill wave:  d rho^m cos^2(n (phi + phi0))",
                        "2.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.brill3d_m),
                        0,
                        NULL,
                        1,
                        ":", "Anything");

  CCTKi_ParameterCreate("brill3d_n",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "3D Brill wave:  d rho^m cos^2(n (phi + phi0))",
                        "2.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.brill3d_n),
                        0,
                        NULL,
                        1,
                        ":", "Anything");

  CCTKi_ParameterCreate("brill3d_phi0",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "3D Brill wave:  d rho^m cos^2(n (phi + phi0))",
                        "0.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.brill3d_phi0),
                        0,
                        NULL,
                        1,
                        ":", "Anything");

  CCTKi_ParameterCreate("const_v0",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Value of constant BC",
                        "1.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.const_v0),
                        0,
                        NULL,
                        1,
                        ":", "anything goes");

  CCTKi_ParameterCreate("eppley_a",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Eppley Brill wave: Amplitude",
                        "0.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.eppley_a),
                        0,
                        NULL,
                        1,
                        ":", "Anything");

  CCTKi_ParameterCreate("eppley_b",
                        "IDBrillData",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Eppley Brill wave: used in exponent in rho: rho^b",
                        "2",
                        &(PRIVATE_IDBRILLDATA_STRUCT.eppley_b),
                        0,
                        NULL,
                        1,
                        ":", "Anything");

  CCTKi_ParameterCreate("eppley_c",
                        "IDBrillData",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Eppley Brill wave: (r^2 - r0^2)^(c/2)",
                        "2",
                        &(PRIVATE_IDBRILLDATA_STRUCT.eppley_c),
                        0,
                        NULL,
                        1,
                        ":", "Anything");

  CCTKi_ParameterCreate("eppley_r0",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Eppley Brill wave: radius of torus in r",
                        "0.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.eppley_r0),
                        0,
                        NULL,
                        1,
                        "0:*", "Positive" );

  CCTKi_ParameterCreate("eppley_sigmar",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Eppley Brill wave: sigma in r",
                        "1.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.eppley_sigmar),
                        0,
                        NULL,
                        1,
                        ":", "Anything");

  CCTKi_ParameterCreate("eppley_sigmarho",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Eppley Brill wave: sigma in rho",
                        "1.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.eppley_sigmarho),
                        0,
                        NULL,
                        1,
                        ":", "Anything");

  CCTKi_ParameterCreate("exp_a",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Exp Brill wave: Amplitude",
                        "0.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.exp_a),
                        0,
                        NULL,
                        1,
                        ":", "Anything");

  CCTKi_ParameterCreate("exp_b",
                        "IDBrillData",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Exp Brill wave: used in exponent in rho: rho^(2+b)",
                        "2",
                        &(PRIVATE_IDBRILLDATA_STRUCT.exp_b),
                        0,
                        NULL,
                        1,
                        ":", "Anything");

  CCTKi_ParameterCreate("exp_rho0",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Exp Brill wave: radius of torus in rho",
                        "0.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.exp_rho0),
                        0,
                        NULL,
                        1,
                        "0:*", "Positive");

  CCTKi_ParameterCreate("exp_sigmaz",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Exp Brill wave: sigma in z",
                        "1.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.exp_sigmaz),
                        0,
                        NULL,
                        1,
                        "(0:*", "Positive");

  CCTKi_ParameterCreate("gundlach_a",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Gundlach Brill wave: Amplitude",
                        "0.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.gundlach_a),
                        0,
                        NULL,
                        1,
                        ":", "Anything");

  CCTKi_ParameterCreate("gundlach_b",
                        "IDBrillData",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Gundlach Brill wave: used in exponent in rho: rho^b",
                        "2",
                        &(PRIVATE_IDBRILLDATA_STRUCT.gundlach_b),
                        0,
                        NULL,
                        1,
                        ":", "Anything");

  CCTKi_ParameterCreate("gundlach_c",
                        "IDBrillData",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Gundlach Brill wave: (r^2 - r0^2)^(c/2)",
                        "2",
                        &(PRIVATE_IDBRILLDATA_STRUCT.gundlach_c),
                        0,
                        NULL,
                        1,
                        ":", "Anything");

  CCTKi_ParameterCreate("gundlach_r0",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Gundlach Brill wave: radius of torus in r",
                        "0.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.gundlach_r0),
                        0,
                        NULL,
                        1,
                        "0:*", "Positive" );

  CCTKi_ParameterCreate("gundlach_sigmar",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Gundlach Brill wave: sigma in r",
                        "1.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.gundlach_sigmar),
                        0,
                        NULL,
                        1,
                        ":", "Anything");

  CCTKi_ParameterCreate("gundlach_sigmarho",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Gundlach Brill wave: sigma in rho",
                        "1.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.gundlach_sigmarho),
                        0,
                        NULL,
                        1,
                        ":", "Anything");

  CCTKi_ParameterCreate("output_coeffs",
                        "IDBrillData",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "output coefficients for elliptic solve",
                        "no",
                        &(PRIVATE_IDBRILLDATA_STRUCT.output_coeffs),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("q_function",
                        "IDBrillData",
                        "KEYWORD",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Form of function q [0,1,2]",
                        "gundlach",
                        &(PRIVATE_IDBRILLDATA_STRUCT.q_function),
                        0,
                        NULL,
                        3,
                        "exp", "contains e^{-z^2} factor",
                        "eppley", "contains 1/(1+r^2) factor",
                        "gundlach", "contains e^{-r^2} factor");

  CCTKi_ParameterCreate("rhofudge",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "delta rho for axis fudge",
                        "0.00001",
                        &(PRIVATE_IDBRILLDATA_STRUCT.rhofudge),
                        0,
                        NULL,
                        1,
                        "0:", "Positive please");

  CCTKi_ParameterCreate("robin_falloff",
                        "IDBrillData",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Fall-off of Robin BC",
                        "1",
                        &(PRIVATE_IDBRILLDATA_STRUCT.robin_falloff),
                        0,
                        NULL,
                        1,
                        "0:", "any positive integer value");

  CCTKi_ParameterCreate("robin_inf",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Value at infinity of Robin BC",
                        "1.0",
                        &(PRIVATE_IDBRILLDATA_STRUCT.robin_inf),
                        0,
                        NULL,
                        1,
                        ":", "anything goes");

  CCTKi_ParameterCreate("solver",
                        "IDBrillData",
                        "KEYWORD",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Which elliptic solver to use",
                        "sor",
                        &(PRIVATE_IDBRILLDATA_STRUCT.solver),
                        0,
                        NULL,
                        3,
                        "sor",  "Use SOR solver",
                        "petsc",  "Use PETSc solver",
                        "bam",  "Use bam solver");

  CCTKi_ParameterCreate("sor_maxit",
                        "IDBrillData",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "Maximum number of iterations",
                        "10000",
                        &(PRIVATE_IDBRILLDATA_STRUCT.sor_maxit),
                        0,
                        NULL,
                        1,
                        "0:*", "Positive");

  CCTKi_ParameterCreate("thresh",
                        "IDBrillData",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_NEVER,
                        "How far (absolute norm) to go",
                        "0.00001",
                        &(PRIVATE_IDBRILLDATA_STRUCT.thresh),
                        0,
                        NULL,
                        1,
                        "0.0:", "Positive number please");

  return 0;
}

int CCTKi_BindingsIDBrillDataParameterExtensions(void);
int CCTKi_BindingsIDBrillDataParameterExtensions(void)
{
  CCTKi_ParameterAddRange("ADMBASE",
                          "initial_data",
                          "IDBrillData",
                          "brilldata",
                          "Brill wave initial data");

  CCTKi_ParameterAddRange("ADMBASE",
                          "initial_data",
                          "IDBrillData",
                          "brilldata2D",
                          "Brill wave initial data assuming axisymmetry");

  return 0;
}

