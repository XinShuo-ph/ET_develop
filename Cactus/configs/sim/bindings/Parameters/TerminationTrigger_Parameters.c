/*@@
   @file    TerminationTrigger_Parameters.c
   @author  Automatically generated by CreateParameterBindings.pl
   @desc
            Creates/extends parameters for this thorn
   @enddesc
 @@*/


#include <stdio.h>
#include <stdlib.h>
#include <stdarg.h>

#include "cctk_Config.h"
#include "cctk_Constants.h"
#include "ParameterBindings.h"
#include "CParameterStructNames.h"
#include "ParameterCRestrictedIO.h"

/* structure containing all private parameters of thorn TerminationTrigger */
struct
{
  CCTK_REAL max_walltime;
  CCTK_REAL on_remaining_walltime;
  CCTK_REAL output_remtime_every_minutes;
  const char * termination_file;
  CCTK_INT check_file_every;
  CCTK_INT create_termination_file;
  CCTK_INT termination_from_file;
} PRIVATE_TERMINATIONTRIGGER_STRUCT;


/* structure containing all restricted parameters of thorn TerminationTrigger */
struct
{
  int dummy_parameter;
} RESTRICTED_TERMINATIONTRIGGER_STRUCT;


int CCTKi_BindingsCreateTerminationTriggerParameters(void);
int CCTKi_BindingsCreateTerminationTriggerParameters(void)
{
  CCTKi_ParameterCreate("check_file_every",
                        "TerminationTrigger",
                        "INT",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Check termination file every n timesteps",
                        "1",
                        &(PRIVATE_TERMINATIONTRIGGER_STRUCT.check_file_every),
                        0,
                        NULL,
                        1,
                        "1:*", "");

  CCTKi_ParameterCreate("create_termination_file",
                        "TerminationTrigger",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_RECOVER,
                        "Create an empty termination file at startup",
                        "no",
                        &(PRIVATE_TERMINATIONTRIGGER_STRUCT.create_termination_file),
                        0,
                        NULL,
                        0);

  CCTKi_ParameterCreate("max_walltime",
                        "TerminationTrigger",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Walltime in HOURS allocated for this job",
                        "0.0",
                        &(PRIVATE_TERMINATIONTRIGGER_STRUCT.max_walltime),
                        0,
                        NULL,
                        2,
                        "0.0", "Don't trigger termination",
                        "(0.0:*", "Should be positive, right");

  CCTKi_ParameterCreate("on_remaining_walltime",
                        "TerminationTrigger",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "When to trigger termination in MINUTES",
                        "0.0",
                        &(PRIVATE_TERMINATIONTRIGGER_STRUCT.on_remaining_walltime),
                        0,
                        NULL,
                        2,
                        "0.0", "Don't trigger termination",
                        "(0.0:*", "So many minutes before your job walltime is over");

  CCTKi_ParameterCreate("output_remtime_every_minutes",
                        "TerminationTrigger",
                        "REAL",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Output remaining wall time every n minutes",
                        "60.0",
                        &(PRIVATE_TERMINATIONTRIGGER_STRUCT.output_remtime_every_minutes),
                        0,
                        NULL,
                        2,
                        "0.0", "No output",
                        "(0.0:*", "Output");

  CCTKi_ParameterCreate("termination_file",
                        "TerminationTrigger",
                        "STRING",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Termination file name (either full path or relative to IO::out_dir)",
                        "/tmp/cactus_terminate",
                        &(PRIVATE_TERMINATIONTRIGGER_STRUCT.termination_file),
                        0,
                        NULL,
                        1,
                        "",  "Termination file");

  CCTKi_ParameterCreate("termination_from_file",
                        "TerminationTrigger",
                        "BOOLEAN",
                        "PRIVATE",
                        CCTK_STEERABLE_ALWAYS,
                        "Use termination file; specified by termination_filename",
                        "no",
                        &(PRIVATE_TERMINATIONTRIGGER_STRUCT.termination_from_file),
                        0,
                        NULL,
                        0);

  return 0;
}

int CCTKi_BindingsTerminationTriggerParameterExtensions(void);
int CCTKi_BindingsTerminationTriggerParameterExtensions(void)
{
  return 0;
}

